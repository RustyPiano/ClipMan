# ClipMan: Windows优先的现代化剪切板管理器产品需求文档 (PRD)

## 文档信息
- **版本**: 1.1
- **日期**: 2025年11月6日
- **作者**: Grok 4 (基于xAI构建)，参考2025年最新行业趋势
- **状态**: 更新草案
- **目标读者**: 开发团队、产品经理、设计师
- **变更历史**: 
  - v1.1: 移除同步、AI智能集成等高级功能；添加置顶内容支持；强调简洁易用（基于用户反馈）。

## 1. 产品概述
### 1.1 产品描述
ClipMan 是一个跨平台（Windows优先）的剪切板管理器，旨在解决用户在日常工作中“复制后丢失历史”的痛点。它提供历史记录、搜索、预览，并支持置顶常用内容以便快速粘贴。设计原则为简洁易用，避免复杂功能。不同于传统工具（如Windows内置Win+V），ClipMan 使用2025年最前沿的技术栈，确保轻量、高性能、安全隐私。核心定位：后台运行、低侵入性，通过系统托盘（菜单栏）快速访问现代化界面，支持文本、图像等多种格式。

### 1.2 产品目标
- **业务目标**: 成为Windows用户首选的开源/免费剪切板工具，目标用户覆盖率达10万+（通过GitHub分发）。
- **用户目标**: 提升生产力15%以上（基于用户反馈），减少手动管理剪切板的时间，同时便于快速访问常用内容。
- **关键指标 (KPIs)**: 
  - 用户保留率 > 70%（首月）。
  - 日活跃用户 (DAU) > 50% 安装基数。
  - 崩溃率 < 0.1%。
- **独特卖点 (USPs)**: 简洁界面、置顶功能（快速粘贴常用项）、端到端加密、沉浸式UI（支持基本预览）。

### 1.3 背景与问题陈述
在2025年，桌面生产力工具趋势强调简约设计和隐私保护（参考Zapier 2025报告）。Windows内置剪切板历史简单，但缺乏置顶常用内容和快速访问机制。现有工具如Clipboard Master或Ditto虽功能丰富，但UI过时或过于复杂。ClipMan 填补空白，提供简洁解决方案，专注于核心需求而非高级扩展。

## 2. 目标用户与市场分析
### 2.1 用户画像
- **主要用户**: 知识工作者（开发者、设计师、作家），年龄25-45岁，使用Windows 11/12，主要在办公/远程工作场景。
  - 示例: 程序员频繁复制代码片段，并置顶常用模板；设计师复制图像/链接，并置顶参考素材。
- **次要用户**: 学生、内容创作者，需要简单历史管理和置顶功能。
- **痛点**: 历史丢失、搜索不便、常用内容重复复制。
- **需求**: 快速访问（热键Win+V覆盖）、视觉化预览、置顶机制。

### 2.2 市场分析
- **市场规模**: 2025年全球剪切板管理器市场预计达5亿美元（增长率15%，来源: Medium 2025分析），Windows占比60%。
- **竞争对手**: 
  - Windows Clipboard History: 免费但基础，无置顶。
  - Clipboard Master: 功能强但UI老旧。
  - Paste (Apple): Mac专属，启发简洁设计。
  - Ditto: 开源，但缺乏简易置顶。
- **机会**: 聚焦简洁+置顶，提升Windows生态。
- **SWOT分析**:
  - **优势**: Rust+Tauri轻量（<10MB安装包），开源免费，易用优先。
  - **弱点**: 无高级功能（如同步），但符合用户需求。
  - **机会**: 与Microsoft Fluent Design集成。
  - **威胁**: 隐私法规变化（GDPR 2025更新）。

## 3. 功能需求 (Functional Requirements)
### 3.1 核心功能
- **剪切板监控与存储**:
  - 实时轮询/事件监听剪切板变化（每500ms，避免CPU高耗）。
  - 支持格式: 文本、图像（缩略图预览）、文件（路径存储）。
  - 历史记录（SQLite本地DB，自动清理>100条或用户自定义）。
- **历史管理**:
  - 查看列表: 支持基本搜索（关键词）、排序（时间）。
  - 操作: 一键复制回剪切板、删除、导出（JSON/CSV）。
- **置顶功能**:
  - 用户可手动置顶任意历史项（e.g., 常用模板、密码、链接）。
  - 置顶列表独立显示在UI顶部，支持无限置顶（但建议限10-20条以保持简洁）。
  - 快速粘贴: 通过热键或托盘菜单直接访问置顶项。
  - 操作: 置顶/取消置顶、拖拽排序。
- **排除与隐私**:
  - 自动排除敏感App（如浏览器密码字段）。
  - 用户自定义规则（简单开关）。

### 3.2 界面交互
- **系统托盘集成**: Windows托盘图标，左键弹出浮动窗口，右键菜单（查看历史、查看置顶、设置、退出）。
- **热键支持**: 全局Win+V打开历史，Ctrl+Shift+V打开置顶列表。
- **UI组件**:
  - 搜索栏: 实时过滤（关键词匹配）。
  - 卡片列表: 每项显示缩略（图像用base64）、时间戳、预览文本（截断100字符）；置顶区置于顶部。
  - 动画: 基本过渡、hover阴影（保持简洁）。
- **进阶功能**: 无（移除同步、AI等，聚焦核心）。

### 3.3 用户流程
- **Onboarding**: 首次启动引导（权限请求、热键设置、置顶说明）。
- **典型用例**:
  1. 用户复制文本 → 自动保存到历史。
  2. 点击托盘 → 弹出UI，搜索“rust” → 高亮相关项 → 点击复制或置顶。
  3. 访问置顶: 热键打开置顶列表 → 选择项 → 粘贴。

## 4. 非功能需求 (Non-Functional Requirements)
### 4.1 性能
- 启动时间 < 1s。
- 内存占用 < 50MB（后台）。
- 支持>100条历史+置顶无卡顿（SQLite优化）。
- 响应延迟 < 200ms（搜索/复制/置顶）。

### 4.2 安全与隐私
- **加密**: 所有存储端到端加密（Rust crypto库，如ring 2025版）。
- **合规**: GDPR/CCPA兼容，数据不出本地。
- **审计**: 日志无敏感数据，定期安全扫描（Rust clippy + audits）。
- **最佳实践**: 最小权限原则。

### 4.3 可访问性与国际化
- **Accessibility**: WCAG 2.2标准，支持屏幕阅读器（ARIA标签）、高对比模式、键盘导航。
- **I18n**: 支持多语言（英语、简中、德语），使用i18n crates。
- **包容性**: 暗黑/光亮模式自适应，字体大小调整。

### 4.4 可靠性与可用性
- 崩溃恢复: 自动备份DB。
- 兼容性: Windows 10+，未来Linux/macOS（Tauri跨平台）。
- 更新: OTA自动更新（Tauri updater）。

### 4.5 UI/UX 原则
- **趋势集成**: 简约设计（2025 UX趋势: 渐进披露、极简交互）。
- **设计系统**: Fluent Design System（Windows原生），Tailwind CSS实现圆角、阴影、基本动画。
- **用户测试**: A/B测试UI布局，确保直观（e.g., 90%用户首用即懂），特别测试置顶易用性。

## 5. 技术架构
### 5.1 技术栈（2025最现代化）
- **后端**: Rust 1.82+（安全、高性能），Tauri v2（WebView2 for Windows，体积小<10MB）。
- **前端**: Svelte 5（响应式框架），Tailwind CSS v4（现代化样式）。
- **数据库**: SQLite（rusqlite crate）。
- **依赖**:
  - arboard: 跨平台剪切板。
  - tray-icon: Windows托盘。
  - ring: 加密。
  - tauri-plugin-store: 设置持久化。
- **架构图**（文本描述）: Rust核心（监控+DB+置顶逻辑） → Tauri IPC → Svelte UI → 用户交互。
- **部署**: GitHub Actions CI/CD，MSI安装器（Tauri builder），支持自启动。

### 5.2 集成与API
- Windows API: ClipboardFormatListener（事件监听优化轮询）。
- 扩展性: 简单插件系统（Rust动态加载），但保持最小化。

## 6. 优先级与路线图
### 6.1 优先级
- **MVP (v1.0)**: 核心监控、历史查看、托盘UI、文本/图像支持、置顶功能（2025 Q4发布）。
- **v1.1**: 优化易用性、bug修复（2026 Q1）。
- 使用MoSCoW方法: Must-have (核心+置顶)、Should-have (搜索优化)、Could-have (导出增强)、Won't-have (同步/AI)。

### 6.2 里程碑
- 需求确认: 2025/11。
- 设计/原型: 2025/12。
- 开发: 2026/01-03。
- 测试/发布: 2026/04。

## 7. 风险与缓解
- **风险1**: Windows权限变化（2025更新）→ 监控Microsoft docs，fallback轮询。
- **风险2**: 置顶功能滥用导致UI cluttered → 默认限置顶数，提供警告。
- **风险3**: 用户隐私担忧→ 透明政策，默认本地模式。
- **风险4**: 跨平台兼容→ 优先Windows，渐进添加。
- **预算/资源**: 开源开发，社区贡献。

## 8. 附录
- **参考来源**: 基于2025行业报告，如Zapier最佳剪切板经理、Microsoft Learn桌面框架、UX Studio UI趋势。
- **术语表**: Tauri - 桌面App框架；AES-256 - 加密标准。
- **相关文档**: UI Wireframes (待设计)、API Spec (待开发)。